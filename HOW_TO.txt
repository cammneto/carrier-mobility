
# HOW TO
Running the code needs some Gaussian09 .log files and these files needs to addressed in the code.
The example provided is from a ethylene electron mobility calculations, there you have two input folders. One for the CATNIP software inputs and you can find info about them in the software page, the other folder named "cm_inputs" is the one with .log files needed here.

Gaussian09 files:

It is provided Gaussian .com input files used to generate the logs here.

First we need to optimize geometries for neutral and excited states of the monomers, use "freq" keyword to check convergence.

Gaussian input for neutral state:
ethylene-neutral.com
####################################
%NProcShared=4
%Mem=2GB
%chk=ethylene-neutral

# opt B3LYP/6-31G* freq=noraman int=ultrafine

ethylene neutral

0 1
 C	 0.672749	 0.000000	0.000000
 C	-0.672749	 0.000000	0.000000
 H	 1.242623	 0.934806	0.000000
 H	 1.242623	-0.934806	0.000000
 H	-1.242623	 0.934806	0.000000
 H	-1.242623	-0.934806	0.000000
 ####################################

Gaussian input for excited state (anion or cation depending on your needs, in this example we have an anion state in the example) usually is better to optimize the neutral form and use its geometry as input to optimize the excited state as you can notice, this input has the oldchk being the .chk output from neutral optimization:
ethylene-anion.com
####################################
%NProcShared=4
%Mem=2GB
%oldchk=ethylene-neutral
%chk=ethylene-anion

# opt B3LYP/6-31G* freq=noraman int=ultrafine

ethylene anion

-1 2
C	 0.672749	 0.000000	0.000000
C	-0.672749	 0.000000	0.000000
H	 1.242623	 0.934806	0.000000
H	 1.242623	-0.934806	0.000000
H	-1.242623	 0.934806	0.000000
H	-1.242623	-0.934806	0.000000
####################################

With geometry optimizations converged we need to calculate the displacement vector in both directions, from neutral to anion and anion to neutral:
The input from neutral to anion is the ethylene-neutral-displacement.com:
####################################
%NProcShared=4
%Mem=2GB
%oldchk=ethylene-neutral.chk
%chk=neutral
# B3LYP/6-31+G(d,p) Freq=(SaveNM,noraman) Geom=Checkpoint guess=read

neutral form

0 1


--Link1--
%oldchk=ethylene-anion.chk
%chk=anion
# B3LYP/6-31+G(d,p) Freq=(SaveNM,noraman) Geom=Checkpoint guess=read

anion

-1 2

--Link1--
%oldchk=neutral
%chk=fc
# B3LYP/6-31+G(d,p) Freq=(FC,ReadFCHT) Geom=Check

photoionization

0,1

PRTMAT=12 MAXC1=1000 MAXBANDS=1 SPECHWHM=0.5

anion.chk
####################################

and from anion to neutral is ethylene-anion-displacement.com:
####################################
%NProcShared=4
%Mem=2GB
%oldchk=ethylene-anion.chk
%chk=anion
# B3LYP/6-31+G(d,p) Freq=SaveNM Geom=Check

anion

-1 2


--Link1--
%oldchk=ethylene-neutral.chk
%chk=neutral
# B3LYP/6-31+G(d,p) Freq=SaveNM Geom=Check

anion

0 1

--Link1--
%oldchk=anion
%chk=fc
# B3LYP/6-31+G(d,p) Freq=(FC,ReadFCHT) Geom=Check

photoionization

-1,2

PRTMAT=12 MAXC1=1000 MAXBANDS=1 SPECHWHM=0.5

neutral.chk
####################################

If you pay attention, all displacement inputs use as starting point checkpoint files (.chk) from the optimizations, so you need to keep them.

As you have all the logs make a .xyz file with dimmer geometry using the neutral and excited geometries as the two monomers.

In the main code (carrier_mobility.py) you have to write file paths in input files section of the code.

### carrier mobility input files ###
xyzfile =  'cm_inputs/example/ethylene-0-dimer.xyz'              ###  Path of geometry file .xyz
log     =  'cm_inputs/example/ethylene-neutral-displacement.log' ###  Path of neutral to excited displacement Gaussian .log  file
log1    =  'cm_inputs/example/ethylene-anion-displacement.log'   ###  Path of excited to neutral displacement Gaussian .log  file
### CATNIP input files ### For more details check CATNIP page
pun_file   = 'catnip_inputs/example/ethylene-0-dimer.pun'        ###  Path of Dimer pun file for CATNIP
pun_file_1 = 'catnip_inputs/example/ethylene-0-m1.pun'           ###  Path of 1st monomer pun file for CATNIP
pun_file_2 = 'catnip_inputs/example/ethylene-0-m2.pun'           ###  Path of 2nd monomer pun file for CATNIP

chosen orbital types for CATNIP transfer integral calculations.
orb_ty_1 = 'LUMO'  ###  1st orbital chosen for coupling (ex: LUMO, HOMO...)
orb_ty_2 = 'LUMO'  ###  2nd orbital chosen for coupling (ex: LUMO, HOMO...)
